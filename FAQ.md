# 什么是azw.res文件？
根据Kindle for PC (Windows)测试，日亚的轻小说在特定版本下载为两部分，位于一个以```_EBOK```结尾的文件夹中，前面是该书的ASIN。一个部分后缀为azw，有DRM，经过DeDRM后后缀将是azw3；另一个部分后缀为azw.res，是一个未加密的文件。这两个部分加起来的大小是商品页面的“文件大小（ファイルサイズ）”所标注的大小。

以上文件在Kindle for PC 1.19~1.24中找到，更早的版本没有azw.res，更晚的版本虽然存在未加密的azw.res，但是无法解密主要的azw文件。

azw3将包含书籍的主要信息，包括正文和图片，主流的工具都可以处理这个类型。azw.res提供了额外的高清图片，分辨率可以参考下面的统计情况。

附一个Kindle for PC 1.23 Windows [【MEGA盘】](https://mega.nz/#!t1ACHQgR!ZpiiF6G7fSwgYkXsi7_UGm2zYBpmkBDCaRqtLJnt3_E)

高清资源规格十分不完全的统计(长/短：长边/短边固定为该像素值；高：高度固定为该像素值)：

文库 | 发行 | 像素数（观测样本起止时间）
-|-|-
電撃文庫 | KADOKAWA | 长1600(2016.6)/长2048(2016.12-最新)
メディアワークス文庫 | KADOKAWA | 长1600(-2015.9)/长2048(2016.10-最新) 
富士见L文庫 | KADOKAWA | 1600(2016.12)
富士見ファンタジア文庫 | KADOKAWA | 高1600(-2018.3)/长2048(最新)
ＭＦ文庫Ｊ | KADOKAWA | 高1600(2012.2-2018.2)/长2048(最新)
角川文庫 | KADOKAWA | 1600(2016.5)/长2048(最新)
角川スニーカー文庫 | KADOKAWA | 长2048(最新)
講談社ラノベ文庫 | 講談社 | 长2048(2017.7-最新)
ガガガ文庫 | 小学館 | 长1600(最新)
双葉社 | 双葉社 | 高1200(最新)
GA文庫 | SBクリエイティブ | 长2048(最新)
TOブックス | TOブックス | 长1600(最新)
美少女文庫 | フランス書院 | 短1563/长2233/不确定宽高
ぷちぱら文庫 | パラダイム | 长1600(-2015)/长1920(2015.7-最新)

# 如何配置dedrm.bat？
[DeDRM工具](https://github.com/apprenticeharper/DeDRM_tools) 是一个可以去除DRM的工具，有Calibre插件和单独的脚本。

插件版可以方便地转换azw3，如果需要与高清资源合并转换，将二者放入同一文件夹中即可。如果需要批量转换，可以配置dedrm.bat和独立版本DeDRM工具。

以下教程根据Windows编写，Mac用户请自求多福（理论上可以搞……）

**批量转换：** 对于批量一键转换，由于Calibre没有一个插件能处理多个文件输入，因此使用独立的版本。

由于官方版DeDRM_Tools应对了其他加密，而这里只处理AZW3，因此可以使用这个[精简版](https://github.com/Aeroblast/AZW3_PC_DeDRM/releases) 

例子：
```"C:\Python2\python2.exe" "D:\Apps\DeDRM_App\DeDRM_lib\DeDRM_App.pyw" %1```

```%1```将用于传递参数。
